<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <title>Giphy Image - X-Tag</title>

  <link rel="stylesheet" type="text/css" href="x-tag-components.css"/>
  <link rel="stylesheet" type="text/css" href="../src/main.css"/>

  <script type="text/javascript" src="x-tag-components.js"></script>
  <script type="text/javascript" src="../src/main.js"></script>


  <style type="text/css">
  h2 {
    font-family: Helvetica, Arial, sans-serif;
    font-weight: normal;
    margin: 20px 0 5px 0;
  }

  .editable {
    border-bottom: 1px dashed black;
    cursor: text;
  }
  </style>
</head>

<body id="app">

  <h2>Translate: <span class="editable" contentEditable="true" for="translate">Boom</span></h2>
  <x-giphy-image id="translate" type="translate" term="boom"></x-giphy-image>
  <h2>Search: <span class="editable" contentEditable="true" for="search">Hackers</span></h2>
  <x-giphy-image id="search" type="search" term="hackers" random></x-giphy-image>
  <h2>Trending</h2>
  <x-giphy-image id="trending" type="trending" rating="pg-13"></x-giphy-image>
  <h2>Random: <span class="editable" contentEditable="true" for="random">Futurama</span></h2>
  <x-giphy-image id="random" type="random" term="futurama"></x-giphy-image>

</body>

<script type="text/javascript">

  document.addEventListener('DOMComponentsLoaded', function(){
    var checkVal = function(evt) {
      if(evt.charCode === 13) {
        evt.preventDefault();
        var target = document.querySelector('#' + evt.target.attributes.for.value);
        var value = evt.target.innerText;
        target.attributes.term.value = value;
      }
    };

    var elements = Array.prototype.slice.call(document.querySelectorAll('.editable'), 0);
    elements.forEach(function(editableSpan) {
      editableSpan.onkeypress = checkVal;
    });
  });

</script>

</html>
